<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZED-Интернет-магазин</title>
  <meta name="description" content="Интернет-магазин одежды, обуви и аксессуаров в стиле Wildberries. Широкий ассортимент, акции и скидки.">
  <meta name="keywords" content="интернет-магазин, одежда, обувь, аксессуары, Wildberries, МойМаркет">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
    }
    .wb-purple { background-color: #4A0072; }
    .wb-pink { background-color: #E6007E; }
    .wb-text-purple { color: #4A0072; }
    .wb-text-pink { color: #E6007E; }
    .cart-count, .favorites-count {
      width: 18px;
      height: 18px;
      background-color: #E6007E;
      color: white;
      border-radius: 50%;
      text-align: center;
      line-height: 18px;
      font-size: 10px;
      position: absolute;
      top: -8px;
      right: -8px;
    }
    .carousel {
      scroll-behavior: smooth;
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }
    .carousel::-webkit-scrollbar { display: none; }
    .product-card img {
      transition: transform 0.3s ease;
    }
    .product-card img:hover { transform: scale(1.05); }
    .sidebar { transition: transform 0.3s ease-in-out; }
    @media (max-width: 768px) {
      .sidebar { transform: translateX(-100%); }
      .sidebar.open { transform: translateX(0); }
    }
    .pagination button { transition: background-color 0.3s; }
    .pagination button:hover { background-color: #E6007E; color: white; }
    .quick-view {
      transition: opacity 0.3s;
      opacity: 0;
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
    }
    .product-card:hover .quick-view { opacity: 1; }
    .discount {
      position: absolute;
      top: 10px;
      left: 10px;
      background-color: #E6007E;
      color: white;
      padding: 4px 8px;
      font-size: 12px;
      border-radius: 3px;
      font-weight: bold;
    }
    .promo-tag {
      background-color: #FFD700;
      color: #4A0072;
      padding: 2px 6px;
      font-size: 12px;
      border-radius: 3px;
      display: inline-block;
      margin-top: 4px;
    }
    .header-shadow { box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); }
    .category:hover { background-color: #f3e8ff; }
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #4A0072;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 50;
      display: none;
    }
    .suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 10;
      display: none;
    }
    .suggestions div {
      padding: 8px;
      cursor: pointer;
    }
    .suggestions div:hover { background-color: #f3e8ff; }
  </style>
</head>
<body class="bg-gray-50">
  <!-- Notification -->
  <div id="notification" class="notification"></div>

  <!-- Header -->
  <header class="wb-purple text-white p-4 sticky top-0 z-20 header-shadow">
    <div class="container mx-auto flex justify-between items-center">
      <div class="flex items-center space-x-4">
        <button id="menu-toggle" class="md:hidden text-white">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
        <h1 class="text-2xl font-bold">МойМаркет</h1>
      </div>
      <div class="flex items-center space-x-6">
        <div class="relative">
          <input type="text" id="search" placeholder="Поиск товаров, брендов, категорий..." class="p-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-500 w-64 hidden md:block">
          <div id="search-suggestions" class="suggestions"></div>
        </div>
        <button id="login-toggle" class="hover:underline text-sm">Личный кабинет</button>
        <div class="relative">
          <button id="favorites-toggle" class="hover:underline flex items-center text-sm">
            <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
            Избранное
            <span id="favorites-count" class="favorites-count">0</span>
          </button>
        </div>
        <div class="relative">
          <button id="cart-toggle" class="hover:underline flex items-center text-sm">
            <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
            Корзина
            <span id="cart-count" class="cart-count">0</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside id="sidebar" class="bg-white w-72 fixed top-0 left-0 h-full shadow-lg z-20 sidebar">
    <div class="p-6">
      <h2 class="text-xl font-bold mb-6 wb-text-purple">Категории</h2>
      <ul id="categories" class="space-y-3">
        <li><button class="w-full text-left p-3 hover:bg-purple-100 rounded category bg-purple-100 font-medium" data-category="all">Все товары</button></li>
        <li><button class="w-full text-left p-3 hover:bg-purple-100 rounded category font-medium" data-category="clothing">Одежда</button></li>
        <li><button class="w-full text-left p-3 hover:bg-purple-100 rounded category font-medium" data-category="shoes">Обувь</button></li>
        <li><button class="w-full text-left p-3 hover:bg-purple-100 rounded category font-medium" data-category="accessories">Аксессуары</button></li>
      </ul>
      <h2 class="text-xl font-bold mt-8 mb-6 wb-text-purple">Фильтры</h2>
      <div class="mb-6">
        <label class="block text-sm font-medium mb-2">Цена</label>
        <div class="flex space-x-2">
          <input type="number" id="min-price" placeholder="От" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
          <input type="number" id="max-price" placeholder="До" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
        </div>
      </div>
      <div class="mb-6">
        <label class="block text-sm font-medium mb-2">Бренд</label>
        <select id="brand-filter" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
          <option value="">Все бренды</option>
          <option value="BrandA">Brand A</option>
          <option value="BrandB">Brand B</option>
          <option value="BrandC">Brand C</option>
        </select>
      </div>
      <div class="mb-6">
        <label class="block text-sm font-medium mb-2">Размер</label>
        <select id="size-filter" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
          <option value="">Все размеры</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
        </select>
      </div>
      <div class="mb-6">
        <label class="block text-sm font-medium mb-2">Цвет</label>
        <select id="color-filter" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
          <option value="">Все цвета</option>
          <option value="black">Чёрный</option>
          <option value="white">Белый</option>
          <option value="blue">Синий</option>
          <option value="red">Красный</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium mb-2">Рейтинг</label>
        <select id="rating-filter" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
          <option value="0">Любой</option>
          <option value="4">4+ звезды</option>
          <option value="3">3+ звезды</option>
          <option value="2">2+ звезды</option>
        </select>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="container mx-auto py-8 md:ml-72">
    <!-- Breadcrumbs -->
    <div class="mb-6 px-4">
      <nav class="text-sm wb-text-purple">
        <a href="#" class="hover:underline">Главная</a> / <a href="#" class="hover:underline">Каталог</a> / <span class="text-gray-500">Все товары</span>
      </nav>
    </div>

    <!-- Banner Carousel -->
    <div class="mb-8 px-4">
      <div class="carousel flex space-x-4">
        <img src="https://th.bing.com/th/id/OIP.e2T9Sxe3dLqCx6HEeEKDawAAAA?rs=1&pid=ImgDetMain" alt="Акция: Скидки до 50%" class="rounded-lg w-full max-w-4xl">
        <img src="https://th.bing.com/th/id/OIP.DX8ie3cif-oRuOpJA7H_5AAAAA?rs=1&pid=ImgDetMain" alt="Новинки осени" class="rounded-lg w-full max-w-4xl">
        <img src="https://th.bing.com/th/id/OIP.HAPUOrFG8wKzcAXMA3O4XgAAAA?rs=1&pid=ImgDetMain" alt="Бесплатная доставка" class="rounded-lg w-full max-w-4xl">
      </div>
    </div>

    <!-- Mobile Search -->
    <div class="mb-6 md:hidden px-4 relative">
      <input type="text" id="mobile-search" placeholder="Поиск товаров, брендов, категорий..." class="w-full p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500">
      <div id="mobile-search-suggestions" class="suggestions"></div>
    </div>

    <!-- Sorting -->
    <div class="flex justify-between items-center mb-6 px-4">
      <h2 class="text-2xl font-bold wb-text-purple">Все товары</h2>
      <select id="sort" class="p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
        <option value="default">По популярности</option>
        <option value="price-asc">Цена: по возрастанию</option>
        <option value="price-desc">Цена: по убыванию</option>
        <option value="rating-desc">Рейтинг: по убыванию</option>
        <option value="discount-desc">Скидка: по убыванию</option>
      </select>
    </div>

    <!-- Products Grid -->
    <div id="products" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 px-4">
      <!-- Products will be dynamically inserted here -->
    </div>

    <!-- Pagination -->
    <div class="flex justify-center space-x-2 mt-8">
      <div id="pagination" class="pagination flex space-x-2"></div>
    </div>
  </main>

  <!-- Quick View Modal -->
  <div id="quick-view-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-md">
      <h2 id="quick-view-name" class="text-xl font-bold mb-4 wb-text-purple"></h2>
      <img id="quick-view-image" src="" alt="Товар" class="w-full h-64 object-cover rounded-lg mb-4">
      <p id="quick-view-price" class="text-lg font-semibold mb-4"></p>
      <button id="quick-view-details" class="wb-pink text-white px-6 py-2 rounded-full hover:bg-pink-700">Подробнее</button>
      <button id="close-quick-view" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 ml-4">Закрыть</button>
    </div>
  </div>

  <!-- Product Detail Modal -->
  <div id="product-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-3xl">
      <div class="flex flex-col md:flex-row">
        <div class="md:w-1/2">
          <div class="product-carousel relative">
            <div id="product-images" class="carousel flex">
              <!-- Images will be inserted here -->
            </div>
            <button id="prev-image" class="absolute top-1/2 left-2 transform -translate-y-1/2 bg-gray-200 p-2 rounded-full hover:bg-gray-300">←</button>
            <button id="next-image" class="absolute top-1/2 right-2 transform -translate-y-1/2 bg-gray-200 p-2 rounded-full hover:bg-gray-300">→</button>
          </div>
        </div>
        <div class="md:w-1/2 md:pl-8 mt-4 md:mt-0">
          <h2 id="product-name" class="text-2xl font-bold mb-2 wb-text-purple"></h2>
          <p id="product-price" class="text-xl font-semibold mb-2"></p>
          <p id="product-rating" class="text-yellow-500 mb-4">★★★★☆</p>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-1">Размер</label>
            <select id="product-size" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
              <option value="S">S</option>
              <option value="M">M</option>
              <option value="L">L</option>
            </select>
          </div>
          <div class="mb-4">
            <label class="block text-sm font-medium mb-1">Цвет</label>
            <select id="product-color" class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
              <option value="black">Чёрный</option>
              <option value="white">Белый</option>
              <option value="blue">Синий</option>
            </select>
          </div>
          <p id="product-description" class="text-gray-700 mb-6"></p>
          <div class="flex space-x-4">
            <button id="add-to-cart-modal" class="wb-pink text-white px-6 py-2 rounded-full hover:bg-pink-700">В корзину</button>
            <button id="toggle-favorite" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 flex items-center">
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>
              В избранное
            </button>
            <button id="share-product" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 flex items-center">
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>
              Поделиться
            </button>
          </div>
        </div>
      </div>
      <div class="mt-8">
        <h3 class="text-xl font-bold mb-4 wb-text-purple">Отзывы</h3>
        <div id="reviews" class="space-y-6">
          <div class="border-b pb-4">
            <p class="font-semibold">Иван</p>
            <p class="text-yellow-500">★★★★☆</p>
            <p>Качество отличное, но доставка немного задержалась.</p>
          </div>
          <div class="border-b pb-4">
            <p class="font-semibold">Анна</p>
            <p class="text-yellow-500">★★★★★</p>
            <p>Очень довольна покупкой, рекомендую всем!</p>
          </div>
        </div>
      </div>
      <div class="mt-8">
        <h3 class="text-xl font-bold mb-4 wb-text-purple">Похожие товары</h3>
        <div id="recommended-products" class="grid grid-cols-2 gap-4">
          <!-- Recommended products will be inserted here -->
        </div>
      </div>
      <button id="close-product" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 mt-6 w-full">Закрыть</button>
    </div>
  </div>

  <!-- Cart Modal -->
  <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-lg">
      <h2 class="text-xl font-bold mb-6 wb-text-purple">Корзина</h2>
      <div id="cart-items" class="mb-6 max-h-64 overflow-y-auto">
        <!-- Cart items will be dynamically inserted here -->
      </div>
      <p class="font-bold text-lg">Итого: <span id="cart-total">0 ₽</span></p>
      <div class="flex justify-end space-x-4 mt-6">
        <button id="close-cart" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300">Закрыть</button>
        <button id="checkout" class="wb-pink text-white px-6 py-2 rounded-full hover:bg-pink-700">Оформить заказ</button>
      </div>
    </div>
  </div>

  <!-- Favorites Modal -->
  <div id="favorites-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-lg">
      <h2 class="text-xl font-bold mb-6 wb-text-purple">Избранное</h2>
      <div id="favorites-items" class="mb-6 max-h-64 overflow-y-auto">
        <!-- Favorites items will be dynamically inserted here -->
      </div>
      <div class="flex justify-end mt-6">
        <button id="close-favorites" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300">Закрыть</button>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-md">
      <h2 class="text-xl font-bold mb-6 wb-text-purple">Вход в личный кабинет</h2>
      <input type="email" id="login-email" placeholder="Email или телефон" class="w-full p-3 mb-4 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
      <input type="password" id="login-password" placeholder="Пароль" class="w-full p-3 mb-6 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
      <button id="login-submit" class="wb-pink text-white px-6 py-3 rounded-full hover:bg-pink-700 w-full">Войти</button>
      <button id="close-login" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full hover:bg-gray-300 w-full mt-4">Закрыть</button>
    </div>
  </div>

  <!-- Personal Account Modal -->
  <div id="account-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-lg">
      <h2 class="text-xl font-bold mb-6 wb-text-purple">Личный кабинет</h2>
      <div class="mb-6">
        <h3 class="font-semibold mb-2">Профиль</h3>
        <p class="text-gray-700">Имя: Иван Иванов</p>
        <p class="text-gray-700">Email: ivan@example.com</p>
        <p class="text-gray-700">Телефон: +7 (999) 123-45-67</p>
      </div>
      <div class="mb-6">
        <h3 class="font-semibold mb-2">История заказов</h3>
        <div class="space-y-4">
          <div class="border-b pb-2">
            <p class="font-medium">Заказ #12345 от 15.10.2023</p>
            <p class="text-gray-600">Сумма: 4 999 ₽</p>
            <p class="text-green-600">Доставлен</p>
          </div>
          <div class="border-b pb-2">
            <p class="font-medium">Заказ #12346 от 20.10.2023</p>
            <p class="text-gray-600">Сумма: 2 499 ₽</p>
            <p class="text-yellow-600">В пути</p>
          </div>
        </div>
      </div>
      <button id="close-account" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 w-full">Закрыть</button>
    </div>
  </div>

  <!-- Feedback Modal -->
  <div id="feedback-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-30">
    <div class="bg-white p-6 rounded-lg w-full max-w-md">
      <h2 class="text-xl font-bold mb-6 wb-text-purple">Обратная связь</h2>
      <textarea id="feedback-text" placeholder="Ваши предложения или вопросы" class="w-full p-3 mb-4 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none h-32"></textarea>
      <button id="submit-feedback" class="wb-pink text-white px-6 py-2 rounded-full hover:bg-pink-700 w-full">Отправить</button>
      <button id="close-feedback" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 w-full mt-4">Закрыть</button>
    </div>
  </div>

  <!-- Support Chat -->
  <div id="chat-toggle" class="fixed bottom-4 right-4 bg-wb-pink text-white p-4 rounded-full cursor-pointer z-40">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
  </div>
  <div id="chat-modal" class="fixed bottom-20 right-4 bg-white p-4 rounded-lg shadow-lg w-80 hidden z-40">
    <h3 class="font-bold mb-4 wb-text-purple">Чат поддержки</h3>
    <div id="chat-messages" class="mb-4 h-48 overflow-y-auto">
      <p class="text-gray-700">Здравствуйте! Чем могу помочь?</p>
    </div>
    <input type="text" id="chat-input" placeholder="Введите сообщение..." class="w-full p-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 focus:outline-none">
    <button id="chat-send" class="wb-pink text-white px-4 py-1 rounded-full hover:bg-pink-700 mt-2 w-full">Отправить</button>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white p-6 mt-12">
    <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="font-bold mb-4">МойМаркет</h3>
        <p class="text-sm">Интернет-магазин в стиле Wildberries</p>
      </div>
      <div>
        <h3 class="font-bold mb-4">Покупателям</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="#" class="hover:underline">Доставка</a></li>
          <li><a href="#" class="hover:underline">Оплата</a></li>
          <li><a href="#" class="hover:underline">Возврат</a></li>
        </ul>
      </div>
      <div>
        <h3 class="font-bold mb-4">Каталог</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="#" class="hover:underline">Одежда</a></li>
          <li><a href="#" class="hover:underline">Обувь</a></li>
          <li><a href="#" class="hover:underline">Аксессуары</a></li>
        </ul>
      </div>
      <div>
        <h3 class="font-bold mb-4">Контакты</h3>
        <p class="text-sm">Email: support@moymarket.ru</p>
        <p class="text-sm">Телефон: 8 (800) 555-35-35</p>
        <button id="feedback-toggle" class="text-sm hover:underline mt-2">Обратная связь</button>
      </div>
    </div>
    <div class="text-center text-sm mt-8">© 2025 МойМаркет. Все права защищены.</div>
  </footer>

  <script>
    // Sample products data
    const products = [
      {
        id: 1,
        name: "Футболка классическая",
        price: 999,
        originalPrice: 1299,
        category: "clothing",
        brand: "BrandA",
        rating: 4,
        images: ["https://www.punkcricket.com/images/game-of-stokes-kids-t-shirt-p1661-6729_image.jpg","https://th.bing.com/th/id/OIP.yJqWFNfhxeDvtX5HGPGfVAHaHa?rs=1&pid=ImgDetMain"],
        description: "Комфортная хлопковая футболка на каждый день.",
        sizes: ["S", "M", "L", "XL"],
        colors: ["black", "white", "blue"],
        discount: 23,
        promo: "Хит продаж"
      },
      {
        id: 2,
        name: "Джинсы Slim Fit",
        price: 2999,
        originalPrice: 3999,
        category: "clothing",
        brand: "BrandB",
        rating: 5,
        images: ["https://via.placeholder.com/300?text=Джинсы+1", "https://via.placeholder.com/300?text=Джинсы+2"],
        description: "Стильные джинсы slim fit из плотного денима.",
        sizes: ["S", "M", "L"],
        colors: ["black", "blue"],
        discount: 25,
        promo: "Новинка"
      },
      {
        id: 3,
        name: "Кроссовки беговые",
        price: 3499,
        category: "shoes",
        brand: "BrandC",
        rating: 4,
        images: ["https://via.placeholder.com/300?text=Кроссовки+1", "https://via.placeholder.com/300?text=Кроссовки+2"],
        description: "Лёгкие и удобные кроссовки для бега.",
        sizes: ["M", "L", "XL"],
        colors: ["white", "black", "red"],
        promo: "Бесплатная доставка"
      }
    ];

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    let selectedProduct = null;
    let currentPage = 1;
    const productsPerPage = 10;

    // DOM Elements
    const productsContainer = document.getElementById('products');
    const searchInput = document.getElementById('search');
    const mobileSearchInput = document.getElementById('mobile-search');
    const searchSuggestions = document.getElementById('search-suggestions');
    const mobileSearchSuggestions = document.getElementById('mobile-search-suggestions');
    const sortSelect = document.getElementById('sort');
    const minPriceInput = document.getElementById('min-price');
    const maxPriceInput = document.getElementById('max-price');
    const brandFilter = document.getElementById('brand-filter');
    const sizeFilter = document.getElementById('size-filter');
    const colorFilter = document.getElementById('color-filter');
    const ratingFilter = document.getElementById('rating-filter');
    const cartModal = document.getElementById('cart-modal');
    const cartItemsContainer = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    const cartCount = document.getElementById('cart-count');
    const cartToggle = document.getElementById('cart-toggle');
    const closeCart = document.getElementById('close-cart');
    const checkout = document.getElementById('checkout');
    const favoritesModal = document.getElementById('favorites-modal');
    const favoritesItemsContainer = document.getElementById('favorites-items');
    const favoritesToggle = document.getElementById('favorites-toggle');
    const favoritesCount = document.getElementById('favorites-count');
    const closeFavorites = document.getElementById('close-favorites');
    const loginModal = document.getElementById('login-modal');
    const loginToggle = document.getElementById('login-toggle');
    const loginSubmit = document.getElementById('login-submit');
    const closeLogin = document.getElementById('close-login');
    const accountModal = document.getElementById('account-modal');
    const closeAccount = document.getElementById('close-account');
    const sidebar = document.getElementById('sidebar');
    const menuToggle = document.getElementById('menu-toggle');
    const categories = document.querySelectorAll('.category');
    const productModal = document.getElementById('product-modal');
    const productImages = document.getElementById('product-images');
    const productName = document.getElementById('product-name');
    const productPrice = document.getElementById('product-price');
    const productRating = document.getElementById('product-rating');
    const productDescription = document.getElementById('product-description');
    const productSize = document.getElementById('product-size');
    const productColor = document.getElementById('product-color');
    const addToCartModal = document.getElementById('add-to-cart-modal');
    const toggleFavorite = document.getElementById('toggle-favorite');
    const shareProduct = document.getElementById('share-product');
    const closeProduct = document.getElementById('close-product');
    const prevImage = document.getElementById('prev-image');
    const nextImage = document.getElementById('next-image');
    const paginationContainer = document.getElementById('pagination');
    const quickViewModal = document.getElementById('quick-view-modal');
    const quickViewName = document.getElementById('quick-view-name');
    const quickViewImage = document.getElementById('quick-view-image');
    const quickViewPrice = document.getElementById('quick-view-price');
    const quickViewDetails = document.getElementById('quick-view-details');
    const closeQuickView = document.getElementById('close-quick-view');
    const recommendedProducts = document.getElementById('recommended-products');
    const feedbackModal = document.getElementById('feedback-modal');
    const feedbackToggle = document.getElementById('feedback-toggle');
    const feedbackText = document.getElementById('feedback-text');
    const submitFeedback = document.getElementById('submit-feedback');
    const closeFeedback = document.getElementById('close-feedback');
    const chatToggle = document.getElementById('chat-toggle');
    const chatModal = document.getElementById('chat-modal');
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');
    const chatSend = document.getElementById('chat-send');
    const notification = document.getElementById('notification');

    // Show notification
    function showNotification(message) {
      notification.textContent = message;
      notification.style.display = 'block';
      setTimeout(() => notification.style.display = 'none', 3000);
    }

    // Render products
    function renderProducts(filteredProducts = products) {
      if (!productsContainer) return;
      productsContainer.innerHTML = '';
      const start = (currentPage - 1) * productsPerPage;
      const end = start + productsPerPage;
      const paginatedProducts = filteredProducts.slice(start, end);

      paginatedProducts.forEach(product => {
        const isFavorite = favorites.some(fav => fav.id === product.id);
        const discountTag = product.discount ? `<span class="discount">-${product.discount}%</span>` : '';
        const priceDisplay = product.originalPrice ? `<span class="line-through text-gray-500">${product.originalPrice} ₽</span> <span class="text-red-500 font-semibold">${product.price} ₽</span>` : `<span class="font-semibold">${product.price} ₽</span>`;
        const promoTag = product.promo ? `<span class="promo-tag">${product.promo}</span>` : '';
        const productCard = `
          <div class="bg-white rounded-lg shadow-md overflow-hidden product-card relative">
            ${discountTag}
            <img src="${product.images[0]}" alt="${product.name}" class="w-full h-48 object-cover">
            <button onclick="toggleFavoriteFromList(${product.id}, event)" class="absolute top-2 right-2 text-2xl ${isFavorite ? 'text-red-500' : 'text-gray-300'} hover:text-red-500 transition-colors">❤</button>
            <div class="p-4">
              <h3 class="text-md font-semibold wb-text-purple truncate">${product.name}</h3>
              <p class="text-gray-600 mt-1">${priceDisplay}</p>
              <p class="text-yellow-500 text-sm mt-1">${'★'.repeat(product.rating)}${'☆'.repeat(5 - product.rating)}</p>
              ${promoTag}
              <button onclick="openQuickView(${product.id})" class="quick-view wb-pink text-white px-4 py-1 rounded-full hover:bg-pink-700 text-sm mt-2">Быстрый просмотр</button>
            </div>
          </div>
        `;
        productsContainer.innerHTML += productCard;
      });

      renderPagination(filteredProducts);
    }

    // Render pagination
    function renderPagination(filteredProducts) {
      if (!paginationContainer) return;
      paginationContainer.innerHTML = '';
      const totalPages = Math.ceil(filteredProducts.length / productsPerPage);

      for (let i = 1; i <= totalPages; i++) {
        const button = `<button class="px-4 py-2 rounded-lg border border-gray-300 ${i === currentPage ? 'wb-pink text-white' : 'bg-white hover:bg-gray-100'}" onclick="changePage(${i})">${i}</button>`;
        paginationContainer.innerHTML += button;
      }
    }

    // Change page
    window.changePage = function(page) {
      currentPage = page;
      applyFilters();
    };

    // Open quick view
    function openQuickView(productId) {
      if (!quickViewModal) return;
      const product = products.find(p => p.id === productId);
      quickViewName.textContent = product.name;
      quickViewImage.src = product.images[0];
      quickViewPrice.innerHTML = product.originalPrice ? `<span class="line-through text-gray-500">${product.originalPrice} ₽</span> <span class="text-red-500">${product.price} ₽</span>` : `${product.price} ₽`;
      quickViewModal.classList.remove('hidden');
      quickViewDetails.onclick = () => {
        quickViewModal.classList.add('hidden');
        openProductModal(productId);
      };
    }

    // Open product modal
    function openProductModal(productId) {
      if (!productModal) return;
      selectedProduct = products.find(p => p.id === productId);
      productImages.innerHTML = selectedProduct.images.map(img => `<img src="${img}" alt="${selectedProduct.name}" class="w-full h-64 object-cover rounded-lg">`).join('');
      productName.textContent = selectedProduct.name;
      productPrice.innerHTML = selectedProduct.originalPrice ? `<span class="line-through text-gray-500">${selectedProduct.originalPrice} ₽</span> <span class="text-red-500">${selectedProduct.price} ₽</span>` : `${selectedProduct.price} ₽`;
      productRating.textContent = '★'.repeat(selectedProduct.rating) + '☆'.repeat(5 - selectedProduct.rating);
      productDescription.textContent = selectedProduct.description;
      productSize.innerHTML = selectedProduct.sizes.map(size => `<option value="${size}">${size}</option>`).join('');
      productColor.innerHTML = selectedProduct.colors.map(color => `<option value="${color}">${color}</option>`).join('');
      toggleFavorite.innerHTML = favorites.some(fav => fav.id === productId) ? '<svg class="w-5 h-5 mr-2 text-red-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg>Убрать из избранного' : '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>В избранное';
      productModal.classList.remove('hidden');

      const recommended = products.filter(p => p.id !== productId && p.category === selectedProduct.category).slice(0, 2);
      recommendedProducts.innerHTML = recommended.map(product => `
        <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer" onclick="openProductModal(${product.id})">
          <img src="${product.images[0]}" alt="${product.name}" class="w-full h-24 object-cover">
          <div class="p-2">
            <h4 class="text-sm font-semibold wb-text-purple truncate">${product.name}</h4>
            <p class="text-gray-600 text-sm">${product.price} ₽</p>
          </div>
        </div>
      `).join('');
    }

    // Carousel navigation
    let currentImageIndex = 0;
    function updateCarousel() {
      if (productImages) {
        productImages.scrollTo({ left: currentImageIndex * productImages.offsetWidth, behavior: 'smooth' });
      }
    }

    prevImage.addEventListener('click', () => {
      if (currentImageIndex > 0) {
        currentImageIndex--;
        updateCarousel();
      }
    });

    nextImage.addEventListener('click', () => {
      if (selectedProduct && currentImageIndex < selectedProduct.images.length - 1) {
        currentImageIndex++;
        updateCarousel();
      }
    });

    // Add to cart
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      const size = productSize.value;
      const color = productColor.value;
      const cartItem = cart.find(item => item.id === productId && item.size === size && item.color === color);

      if (cartItem) {
        cartItem.quantity++;
      } else {
        cart.push({ ...product, quantity: 1, size, color });
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      updateCart();
      showNotification('Товар добавлен в корзину!');
    }

    // Update cart quantity
    window.updateCartQuantity = function(productId, size, color, quantity) {
      const cartItem = cart.find(item => item.id === productId && item.size === size && item.color === color);
      if (cartItem) {
        cartItem.quantity = quantity;
        if (cartItem.quantity <= 0) {
          cart = cart.filter(item => item.id !== productId || item.size !== size || item.color !== color);
        }
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCart();
      }
    };

    // Remove from cart
    window.removeFromCart = function(productId, size, color) {
      cart = cart.filter(item => item.id !== productId || item.size !== size || item.color !== color);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCart();
      showNotification('Товар удалён из корзины');
    };

    // Update cart UI
    function updateCart() {
      if (!cartItemsContainer || !cartTotal || !cartCount) return;
      cartItemsContainer.innerHTML = '';
      let total = 0;

      cart.forEach(item => {
        total += item.price * item.quantity;
        const cartItem = `
          <div class="flex justify-between items-center mb-4 border-b pb-4">
            <div class="flex items-center">
              <img src="${item.images[0]}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg mr-4">
              <div>
                <p class="wb-text-purple font-medium">${item.name}</p>
                <p class="text-gray-600 text-sm">${item.size}, ${item.color}</p>
                <p class="text-gray-700">${item.price * item.quantity} ₽</p>
              </div>
            </div>
            <div class="flex items-center space-x-2">
              <button onclick="updateCartQuantity(${item.id}, '${item.size}', '${item.color}', ${item.quantity - 1})" class="bg-gray-200 px-2 py-1 rounded-full hover:bg-gray-300">-</button>
              <span class="font-medium">${item.quantity}</span>
              <button onclick="updateCartQuantity(${item.id}, '${item.size}', '${item.color}', ${item.quantity + 1})" class="bg-gray-200 px-2 py-1 rounded-full hover:bg-gray-300">+</button>
              <button onclick="removeFromCart(${item.id}, '${item.size}', '${item.color}')" class="text-red-500 hover:underline text-sm">Удалить</button>
            </div>
          </div>
        `;
        cartItemsContainer.innerHTML += cartItem;
      });

      cartTotal.textContent = `${total} ₽`;
      cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
    }

    // Toggle favorite
    window.toggleFavoriteFromList = function(productId, event) {
      event.stopPropagation();
      const product = products.find(p => p.id === productId);
      const isFavorite = favorites.some(fav => fav.id === productId);

      if (isFavorite) {
        favorites = favorites.filter(fav => fav.id !== productId);
        showNotification('Удалено из избранного');
      } else {
        favorites.push(product);
        showNotification('Добавлено в избранное');
      }

      localStorage.setItem('favorites', JSON.stringify(favorites));
      updateFavorites();
      renderProducts(applyFilters(true));
    };

    toggleFavorite.addEventListener('click', () => {
      if (!selectedProduct) return;
      const isFavorite = favorites.some(fav => fav.id === selectedProduct.id);
      if (isFavorite) {
        favorites = favorites.filter(fav => fav.id !== selectedProduct.id);
        showNotification('Удалено из избранного');
      } else {
        favorites.push(selectedProduct);
        showNotification('Добавлено в избранное');
      }
      localStorage.setItem('favorites', JSON.stringify(favorites));
      toggleFavorite.innerHTML = isFavorite ? '<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>В избранное' : '<svg class="w-5 h-5 mr-2 text-red-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg>Убрать из избранного';
      updateFavorites();
      renderProducts(applyFilters(true));
    });

    // Update favorites UI
    function updateFavorites() {
      if (!favoritesItemsContainer || !favoritesCount) return;
      favoritesItemsContainer.innerHTML = '';
      favorites.forEach(item => {
        const favoriteItem = `
          <div class="flex justify-between items-center mb-4 border-b pb-4">
            <div class="flex items-center">
              <img src="${item.images[0]}" alt="${item.name}" class="w-16 h-16 object-cover rounded-lg mr-4">
              <div>
                <p class="wb-text-purple font-medium">${item.name}</p>
                <p class="text-gray-700">${item.price} ₽</p>
              </div>
            </div>
            <button onclick="toggleFavoriteFromList(${item.id}, event)" class="text-red-500 hover:underline text-sm">Удалить</button>
          </div>
        `;
        favoritesItemsContainer.innerHTML += favoriteItem;
      });
      favoritesCount.textContent = favorites.length;
    }

    // Apply filters
    function applyFilters(returnFiltered = false) {
      const query = (searchInput.value || mobileSearchInput.value || '').toLowerCase();
      const selectedCategory = document.querySelector('.category.bg-purple-100')?.dataset.category || 'all';
      const minPrice = parseFloat(minPriceInput.value) || 0;
      const maxPrice = parseFloat(maxPriceInput.value) || Infinity;
      const selectedBrand = brandFilter.value;
      const selectedSize = sizeFilter.value;
      const selectedColor = colorFilter.value;
      const minRating = parseInt(ratingFilter.value) || 0;

      let filteredProducts = products.filter(product => {
        const matchesSearch = product.name.toLowerCase().includes(query) || product.brand.toLowerCase().includes(query);
        const matchesCategory = selectedCategory === 'all' || product.category === selectedCategory;
        const matchesPrice = product.price >= minPrice && product.price <= maxPrice;
        const matchesBrand = !selectedBrand || product.brand === selectedBrand;
        const matchesSize = !selectedSize || product.sizes.includes(selectedSize);
        const matchesColor = !selectedColor || product.colors.includes(selectedColor);
        const matchesRating = product.rating >= minRating;
        return matchesSearch && matchesCategory && matchesPrice && matchesBrand && matchesSize && matchesColor && matchesRating;
      });

      const sortValue = sortSelect.value;
      if (sortValue === 'price-asc') {
        filteredProducts.sort((a, b) => a.price - b.price);
      } else if (sortValue === 'price-desc') {
        filteredProducts.sort((a, b) => b.price - a.price);
      } else if (sortValue === 'rating-desc') {
        filteredProducts.sort((a, b) => b.rating - a.rating);
      } else if (sortValue === 'discount-desc') {
        filteredProducts.sort((a, b) => (b.discount || 0) - (a.discount || 0));
      }

      if (returnFiltered) return filteredProducts;
      renderProducts(filteredProducts);
    }

    // Search suggestions
    function showSuggestions(input, suggestionsContainer) {
      const query = input.value.toLowerCase();
      if (query.length < 2) {
        suggestionsContainer.style.display = 'none';
        return;
      }
      const filtered = products.filter(p => p.name.toLowerCase().includes(query) || p.brand.toLowerCase().includes(query)).slice(0, 5);
      suggestionsContainer.innerHTML = filtered.map(p => `<div onclick="selectSuggestion('${p.name}')">${p.name} (${p.brand})</div>`).join('');
      suggestionsContainer.style.display = filtered.length ? 'block' : 'none';
    }

    window.selectSuggestion = function(value) {
      searchInput.value = value;
      mobileSearchInput.value = value;
      searchSuggestions.style.display = 'none';
      mobileSearchSuggestions.style.display = 'none';
      applyFilters();
    };

    // Share product
    shareProduct.addEventListener('click', () => {
      if (!selectedProduct) return;
      const url = `${window.location.origin}/product/${selectedProduct.id}`;
      navigator.clipboard.writeText(url);
      showNotification('Ссылка скопирована в буфер обмена!');
    });

    // Event listeners
    searchInput.addEventListener('input', () => {
      applyFilters();
      showSuggestions(searchInput, searchSuggestions);
    });
    mobileSearchInput.addEventListener('input', () => {
      applyFilters();
      showSuggestions(mobileSearchInput, mobileSearchSuggestions);
    });
    minPriceInput.addEventListener('input', applyFilters);
    maxPriceInput.addEventListener('input', applyFilters);
    brandFilter.addEventListener('change', applyFilters);
    sizeFilter.addEventListener('change', applyFilters);
    colorFilter.addEventListener('change', applyFilters);
    ratingFilter.addEventListener('change', applyFilters);
    sortSelect.addEventListener('change', applyFilters);

    categories.forEach(category => {
      category.addEventListener('click', () => {
        categories.forEach(cat => cat.classList.remove('bg-purple-100'));
        category.classList.add('bg-purple-100');
        applyFilters();
      });
    });

    cartToggle.addEventListener('click', () => cartModal.classList.toggle('hidden'));
    closeCart.addEventListener('click', () => cartModal.classList.add('hidden'));
    favoritesToggle.addEventListener('click', () => favoritesModal.classList.toggle('hidden'));
    closeFavorites.addEventListener('click', () => favoritesModal.classList.add('hidden'));
    loginToggle.addEventListener('click', () => loginModal.classList.toggle('hidden'));
    loginSubmit.addEventListener('click', () => {
      alert('Вход выполнен (имитация)');
      loginModal.classList.add('hidden');
      accountModal.classList.remove('hidden');
    });
    closeLogin.addEventListener('click', () => loginModal.classList.add('hidden'));
    closeAccount.addEventListener('click', () => accountModal.classList.add('hidden'));
    addToCartModal.addEventListener('click', () => {
      if (selectedProduct) {
        addToCart(selectedProduct.id);
        productModal.classList.add('hidden');
      }
    });
    closeProduct.addEventListener('click', () => {
      productModal.classList.add('hidden');
      currentImageIndex = 0;
      updateCarousel();
    });
    closeQuickView.addEventListener('click', () => quickViewModal.classList.add('hidden'));
    menuToggle.addEventListener('click', () => sidebar.classList.toggle('open'));
    checkout.addEventListener('click', () => {
      alert('Оформление заказа (имитация)');
      cart = [];
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCart();
      cartModal.classList.add('hidden');
      showNotification('Заказ оформлен! Подробности отправлены на email.');
    });

    feedbackToggle.addEventListener('click', () => feedbackModal.classList.remove('hidden'));
    closeFeedback.addEventListener('click', () => feedbackModal.classList.add('hidden'));
    submitFeedback.addEventListener('click', () => {
      if (feedbackText.value.trim()) {
        showNotification('Спасибо за ваш отзыв!');
        feedbackText.value = '';
        feedbackModal.classList.add('hidden');
      }
    });

    chatToggle.addEventListener('click', () => chatModal.classList.toggle('hidden'));
    chatSend.addEventListener('click', () => {
      if (chatInput.value.trim()) {
        chatMessages.innerHTML += `<p class="text-gray-700 mt-2">Вы: ${chatInput.value}</p>`;
        chatMessages.scrollTop = chatMessages.scrollHeight;
        setTimeout(() => {
          chatMessages.innerHTML += `<p class="text-gray-700 mt-2">Поддержка: Спасибо за сообщение! Скоро ответим.</p>`;
          chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 1000);
        chatInput.value = '';
      }
    });

    // Initial render
    updateCart();
    updateFavorites();
    applyFilters();
  </script>
</body>
</html>
